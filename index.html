<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù…ÙˆÙ„Ø¯ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</title>
<style>
body{
    font-family: Arial, sans-serif;
    background:#f1f1f1;
    margin:0;
    padding:0;
}
.container{
    max-width:900px;
    margin:30px auto;
    background:white;
    padding:25px;
    border-radius:12px;
    box-shadow:0 0 15px #ccc;
}
h2{
    text-align:center;
    margin-bottom:20px;
}
input, textarea{
    width:100%;
    padding:10px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #bbb;
}
button{
    background:#0077ff;
    color:white;
    padding:12px 20px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    margin-top:10px;
    width:100%;
    font-size:16px;
}
button:hover{ background:#005fcc; }

.languages button{
    width:auto;
    margin:5px;
    background:#333;
}
.preview-box{
    margin-top:20px;
    padding:15px;
    background:#e9f5ff;
    border-radius:10px;
    text-align:center;
    font-size:18px;
}

/* ØµÙØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø§ØªØ¬Ø© */
.profile-container{
    max-width:900px;
    margin:20px auto;
    background:white;
    padding:25px;
    border-radius:12px;
    text-align:center;
    box-shadow:0 0 12px #ccc;
}
.profile-img{
    width:180px;
    height:180px;
    border-radius:50%;
    object-fit:cover;
    margin:10px;
}
.logo-img{
    width:120px;
    margin-bottom:10px;
}
.lang-btn{
    background:#555;
    padding:6px 12px;
    margin:3px;
    border-radius:6px;
    color:white;
    cursor:pointer;
}
</style>
</head>
<body>

<div class="container">
    <h2>âœ¨ Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©</h2>

    <label>Ø§Ù„Ø§Ø³Ù…:</label>
    <input id="name" type="text">

    <label>Ø§Ù„Ù…Ù†ØµØ¨:</label>
    <input id="title" type="text">

    <label>Ù†Ø¨Ø°Ø© Ù…Ø®ØªØµØ±Ø©:</label>
    <textarea id="bio" rows="4"></textarea>

    <label>Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª:</label>
    <textarea id="achievements" rows="4"></textarea>

    <label>Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©:</label>
    <input id="photo" type="file">

    <label>Ø´Ø¹Ø§Ø± Ø§Ù„Ø§ØªØ­Ø§Ø¯:</label>
    <input id="logo" type="file">

    <label>Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ© (PDF):</label>
    <input id="cv" type="file">

    <button onclick="generate()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©</button>

    <div id="preview" class="preview-box"></div>
</div>

<script>
// ØªØ­ÙˆÙŠÙ„ ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Base64
function toBase64(file){
    return new Promise((resolve,reject)=>{
        let reader = new FileReader();
        reader.onload = ()=> resolve(reader.result);
        reader.onerror = reject;
        reader.readAsDataURL(file);
    });
}

// Ø§Ù„Ù„ØºØ§Øª
const languages = {
    ar:{name:"Ø§Ù„Ø§Ø³Ù…", title:"Ø§Ù„Ù…Ù†ØµØ¨", bio:"Ù†Ø¨Ø°Ø©", achievements:"Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª"},
    en:{name:"Name", title:"Title", bio:"Bio", achievements:"Achievements"},
    fr:{name:"Nom", title:"Poste", bio:"Biographie", achievements:"RÃ©alisations"},
    es:{name:"Nombre", title:"Cargo", bio:"BiografÃ­a", achievements:"Logros"},
    de:{name:"Name", title:"Position", bio:"Biografie", achievements:"Erfolge"}
};

async function generate(){
    const name = document.getElementById("name").value;
    const title = document.getElementById("title").value;
    const bio = document.getElementById("bio").value;
    const achievements = document.getElementById("achievements").value;

    const photoFile = document.getElementById("photo").files[0];
    const logoFile  = document.getElementById("logo").files[0];
    const cvFile    = document.getElementById("cv").files[0];

    let photo64 = photoFile ? await toBase64(photoFile) : "";
    let logo64  = logoFile  ? await toBase64(logoFile)  : "";
    let cv64    = cvFile    ? await toBase64(cvFile)    : "";

    let page = `
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>${name}</title>
<style>
body{font-family:Arial;background:#fafafa;margin:0;padding:0;}
.profile-container{max-width:900px;margin:20px auto;background:white;padding:25px;border-radius:12px;text-align:center;box-shadow:0 0 12px #ccc;}
.profile-img{width:180px;height:180px;border-radius:50%;object-fit:cover;margin:10px;}
.logo-img{width:140px;margin-bottom:10px;}
.lang-btn{background:#444;color:white;padding:6px 12px;margin:4px;border-radius:8px;cursor:pointer;}
</style>
</head>
<body>

<div class="profile-container">
    ${logo64 ? `<img class="logo-img" src="${logo64}">` : ""}
    ${photo64 ? `<img class="profile-img" src="${photo64}">` : ""}

    <h2 id="t_name">${name}</h2>
    <h3 id="t_title">${title}</h3>

    <h3 id="lbl_bio"></h3>
    <p id="t_bio">${bio}</p>

    <h3 id="lbl_ach"></h3>
    <p id="t_ach">${achievements.replace(/\n/g,"<br>")}</p>

    ${cv64 ? `<a href="${cv64}" download="CV.pdf">ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</a>` : ""}
    
    <div style="margin-top:20px;">
        <button class="lang-btn" onclick="setLang('ar')">Ø¹Ø±Ø¨ÙŠ</button>
        <button class="lang-btn" onclick="setLang('en')">English</button>
        <button class="lang-btn" onclick="setLang('fr')">FranÃ§ais</button>
        <button class="lang-btn" onclick="setLang('es')">EspaÃ±ol</button>
        <button class="lang-btn" onclick="setLang('de')">Deutsch</button>
    </div>
</div>

<script>
const languages = ${JSON.stringify(languages)};

function setLang(l){
    document.getElementById("lbl_bio").innerText = languages[l].bio;
    document.getElementById("lbl_ach").innerText = languages[l].achievements;
}
setLang("ar");
</script>

</body>
</html>
`;

    // Ø­ÙØ¸ Ø§Ù„ØµÙØ­Ø© Ù„Ù„ØªÙ†Ø²ÙŠÙ„
    let blob = new Blob([page], {type:"text/html"});
    let url = URL.createObjectURL(blob);

    document.getElementById("preview").innerHTML = `
        âœ” ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØµÙØ­Ø© Ø¨Ù†Ø¬Ø§Ø­<br><br>
        <a href="${url}" download="my_profile.html">
            <button>ğŸ“„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©</button>
        </a>
    `;
}
</script>

</body>
</html>
